package gregtech.common.tileentities.machines.multi;

import static com.gtnewhorizon.structurelib.structure.StructureUtility.lazy;
import static com.gtnewhorizon.structurelib.structure.StructureUtility.ofBlock;
import static com.gtnewhorizon.structurelib.structure.StructureUtility.transpose;
import static gregtech.api.enums.GTValues.AuthorBlueWeabo;
import static gregtech.api.enums.HatchElement.Energy;
import static gregtech.api.enums.HatchElement.ExoticEnergy;
import static gregtech.api.enums.HatchElement.InputBus;
import static gregtech.api.enums.HatchElement.InputHatch;
import static gregtech.api.enums.HatchElement.Maintenance;
import static gregtech.api.enums.HatchElement.OutputBus;
import static gregtech.api.enums.Textures.BlockIcons.OVERLAY_FRONT_ASSEMBLY_LINE;
import static gregtech.api.enums.Textures.BlockIcons.OVERLAY_FRONT_ASSEMBLY_LINE_ACTIVE;
import static gregtech.api.enums.Textures.BlockIcons.OVERLAY_FRONT_ASSEMBLY_LINE_ACTIVE_GLOW;
import static gregtech.api.enums.Textures.BlockIcons.OVERLAY_FRONT_ASSEMBLY_LINE_GLOW;
import static gregtech.api.util.GTStructureUtility.buildHatchAdder;
import static gregtech.api.util.GTStructureUtility.ofFrame;
import static gregtech.api.util.GTUtility.filterValidMTEs;

import javax.annotation.Nonnull;

import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.init.Blocks;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.tileentity.TileEntity;
import net.minecraft.util.ChunkCoordinates;
import net.minecraft.util.EnumChatFormatting;
import net.minecraft.util.StatCollector;
import net.minecraftforge.common.util.ForgeDirection;
import net.minecraftforge.fluids.FluidStack;

import org.jetbrains.annotations.NotNull;

import com.gtnewhorizon.structurelib.alignment.constructable.ISurvivalConstructable;
import com.gtnewhorizon.structurelib.structure.IStructureDefinition;
import com.gtnewhorizon.structurelib.structure.ISurvivalBuildEnvironment;
import com.gtnewhorizon.structurelib.structure.StructureDefinition;
import com.gtnewhorizons.modularui.api.math.Alignment;
import com.gtnewhorizons.modularui.common.widget.DynamicPositionedColumn;
import com.gtnewhorizons.modularui.common.widget.FakeSyncWidget;
import com.gtnewhorizons.modularui.common.widget.SlotWidget;
import com.gtnewhorizons.modularui.common.widget.TextWidget;

import gregtech.api.GregTechAPI;
import gregtech.api.enums.Materials;
import gregtech.api.enums.MaterialsUEVplus;
import gregtech.api.enums.Textures.BlockIcons;
import gregtech.api.interfaces.ITexture;
import gregtech.api.interfaces.metatileentity.IMetaTileEntity;
import gregtech.api.interfaces.tileentity.IGregTechTileEntity;
import gregtech.api.logic.ProcessingLogic;
import gregtech.api.metatileentity.implementations.MTEExtendedPowerMultiBlockBase;
import gregtech.api.metatileentity.implementations.MTEHatchInput;
import gregtech.api.metatileentity.implementations.MTEHatchInputBus;
import gregtech.api.recipe.RecipeMap;
import gregtech.api.recipe.RecipeMaps;
import gregtech.api.recipe.check.CheckRecipeResult;
import gregtech.api.recipe.check.CheckRecipeResultRegistry;
import gregtech.api.render.TextureFactory;
import gregtech.api.util.GTRecipe;
import gregtech.api.util.GTUtility;
import gregtech.api.util.MultiblockTooltipBuilder;
import gregtech.api.util.OverclockCalculator;
import gregtech.api.util.ParallelHelper;
import gregtech.common.blocks.BlockCasings8;
import gregtech.common.tileentities.machines.MTEHatchInputBusME;
import gregtech.common.tileentities.render.TileEntityNanoForgeRenderer;
import gtPlusPlus.core.block.ModBlocks;
import tectech.thing.block.BlockQuantumGlass;

public class MTENanoForge extends MTEExtendedPowerMultiBlockBase<MTENanoForge> implements ISurvivalConstructable {

    private static final String STRUCTURE_PIECE_MAIN = "main";
    private static final String STRUCTURE_PIECE_TIER2 = "tier2";
    private static final String STRUCTURE_PIECE_TIER3 = "tier3";
    private static final String STRUCTURE_PIECE_TIER4_BASE = "tier4base";
    private static final String STRUCTURE_PIECE_TIER4_RENDER = "tier4render";
    private static final String STRUCTURE_PIECE_TIER4_AIR_RENDER = "tier4airrender";
    // spotless:off
    private static final String[][] STRUCTURE_PIECE_TIER4_BASE_STRUCT = transpose(new String[][]{
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","           Y                 Y           ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","           Y                 Y           ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","           Y                 Y           ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","           Y                 Y           ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","          Y                   Y          ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    Y                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","          Y                   Y          ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","          Y                   Y          ","         YY                   YY         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    Y                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","         YY                   YY         ","          Y                   Y          ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","         YY                   YY         ","         Y                     Y         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    Y                    ","                   YYY                   ","                    Y                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","         Y                     Y         ","         YY                   YY         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","        YY                     YY        ","        YY                     YY        ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    Y                    ","                   YYY                   ","                    Y                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","        YY                     YY        ","        YY                     YY        ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","        JJ                     JJ        ","       JJJJ                   JJJJ       ","       JJJJ                   JJJJ       ","        JJ                     JJ        ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   JJJ                   ","                   JJJ                   ","                   JJJ                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","        JJ                     JJ        ","       JJJJ                   JJJJ       ","       JJJJ                   JJJJ       ","        JJ                     JJ        ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","        JJ                     JJ        ","       JJJJ                   JJJJ       ","       JJJJ                   JJJJ       ","        JJ                     JJ        ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   JJJ                   ","                   JJJ                   ","                   JJJ                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","        JJ                     JJ        ","       JJJJ                   JJJJ       ","       JJJJ                   JJJJ       ","        JJ                     JJ        ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","        JJ                     JJ        ","       JJJJ                   JJJJ       ","      JJJJJJ                 JJJJJJ      ","      JJJJJJ                 JJJJJJ      ","       JJJJ                   JJJJ       ","        JJ                     JJ        ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   JJJ                   ","                  JJJJJ                  ","                  JJJJJ                  ","                  JJJJJ                  ","                   JJJ                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","        JJ                     JJ        ","       JJJJ                   JJJJ       ","      JJJJJJ                 JJJJJJ      ","      JJJJJJ                 JJJJJJ      ","       JJJJ                   JJJJ       ","        JJ                     JJ        ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","        NN                     NN        ","       NNNN                   NNNN       ","      NNNNNN                 NNNNNN      ","     NNNNNNNN               NNNNNNNN     ","     NNNNNNNN               NNNNNNNN     ","      NNNNNN                 NNNNNN      ","       NNNN                   NNNN       ","        NN                     NN        ","                                         ","                                         ","                                         ","                                         ","                   NNN                   ","                  NNNNN                  ","                 NNNNNNN                 ","                 NNNNNNN                 ","                 NNNNNNN                 ","                  NNNNN                  ","                   NNN                   ","                                         ","                                         ","                                         ","                                         ","        NN                     NN        ","       NNNN                   NNNN       ","      NNNNNN                 NNNNNN      ","     NNNNNNNN               NNNNNNNN     ","     NNNNNNNN               NNNNNNNN     ","      NNNNNN                 NNNNNN      ","       NNNN                   NNNN       ","        NN                     NN        ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","        NN                     NN        ","       NNNN                   NNNN       ","      NNNNNN                 NNNNNN      ","     NNNNNNNN               NNNNNNNN     ","    NNNNNNNNNN             NNNNNNNNNN    ","    NNNNNNNNNN             NNNNNNNNNN    ","     NNNNNNNN               NNNNNNNN     ","      NNNNNN                 NNNNNN      ","       NNNN                   NNNN       ","        NN                     NN        ","                                         ","                                         ","                   NNN                   ","                 NNNNNNN                 ","                 NNNNNNN                 ","                NNNNNNNNN                ","                NNNNNNNNN                ","                NNNNNNNNN                ","                 NNNNNNN                 ","                 NNNNNNN                 ","                   NNN                   ","                                         ","                                         ","        NN                     NN        ","       NNNN                   NNNN       ","      NNNNNN                 NNNNNN      ","     NNNNNNNN               NNNNNNNN     ","    NNNNNNNNNN             NNNNNNNNNN    ","    NNNNNNNNNN             NNNNNNNNNN    ","     NNNNNNNN               NNNNNNNN     ","      NNNNNN                 NNNNNN      ","       NNNN                   NNNN       ","        NN                     NN        ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","        NN                     NN        ","       NNNN                   NNNN       ","      NNNNNN                 NNNNNN      ","     NNNNNNNN               NNNNNNNN     ","    NNNNNNNNNN             NNNNNNNNNN    ","    NNNNNNNNNN             NNNNNNNNNN    ","     NNNNNNNN               NNNNNNNN     ","      NNNNNN                 NNNNNN      ","       NNNN                   NNNN       ","        NN                     NN        ","                   NNN                   ","                 NNNNNNN                 ","                NNNNNNNNN                ","               NNNNNNNNNNN               ","               NNNNNNNNNNN               ","              NNNNNNNNNNNNN              ","              NNNNNNNNNNNNN              ","              NNNNNNNNNNNNN              ","               NNNNNNNNNNN               ","               NNNNNNNNNNN               ","                NNNNNNNNN                ","                 NNNNNNN                 ","                   NNN                   ","        NN                     NN        ","       NNNN                   NNNN       ","      NNNNNN                 NNNNNN      ","     NNNNNNNN               NNNNNNNN     ","    NNNNNNNNNN             NNNNNNNNNN    ","    NNNNNNNNNN             NNNNNNNNNN    ","     NNNNNNNN               NNNNNNNN     ","      NNNNNN                 NNNNNN      ","       NNNN                   NNNN       ","        NN                     NN        ","                                         ","                                         ","                                         ","                                         "},
    {"                NNNN~NNNN                ","             NNNNNNNNNNNNNNN             ","           NNNNNNNNNNNNNNNNNNN           ","         NNNNNNNNNNNNNNNNNNNNNNN         ","        NNNNNNNNNNNNNNNNNNNNNNNNN        ","       NNNNNNNNNNNNNNNNNNNNNNNNNNN       ","      NNNNNNNNNNNNNNNNNNNNNNNNNNNNN      ","     NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN     ","    NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN    ","   NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN   ","   NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN   ","  NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN  ","  NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN  "," NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN "," NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN "," NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN ","NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN","NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN","NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN","NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN","NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN","NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN","NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN","NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN","NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN"," NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN "," NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN "," NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN ","  NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN  ","  NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN  ","   NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN   ","   NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN   ","    NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN    ","     NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN     ","      NNNNNNNNNNNNNNNNNNNNNNNNNNNNN      ","       NNNNNNNNNNNNNNNNNNNNNNNNNNN       ","        NNNNNNNNNNNNNNNNNNNNNNNNN        ","         NNNNNNNNNNNNNNNNNNNNNNN         ","           NNNNNNNNNNNNNNNNNNN           ","             NNNNNNNNNNNNNNN             ","                NNNNNNNNN                "}
    });
    private static final String[][] STRUCTURE_PIECE_TIER4_STRUCT = transpose(new String[][]{
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   SSS                   ","                 SSSSSSS                 ","                 SSSSSSS                 ","                SSSSSSSSS                ","                SSSSSSSSS                ","                SSSSSSSSS                ","                 SSSSSSS                 ","                 SSSSSSS                 ","                   SSS                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    S                    ","                 SSSSSSS                 ","                SSSSSSSSS                ","               SSSS   SSSS               ","              SSS       SSS              ","              SSS       SSS              ","              SS         SS              ","             SSS         SSS             ","              SS         SS              ","              SSS       SSS              ","              SSS       SSS              ","               SSSS   SSSS               ","                SSSSSSSSS                ","                 SSSSSSS                 ","                    S                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","               SSSSS SSSSS               ","              SSS       SSS              ","             SSS         SSS             ","             SS           SS             ","            SS             SS            ","            SS             SS            ","            SS             SS            ","            S               S            ","            SS             SS            ","            SS             SS            ","            SS             SS            ","             SS           SS             ","             SSS         SSS             ","              SSS       SSS              ","               SSSSS SSSSS               ","                 SSSSSSS                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","               SSSSSSSSSSS               ","              SSS       SSS              ","             SS           SS             ","            SS             SS            ","           SS               SS           ","           SS               SS           ","          SS                 SS          ","          SS                 SS          ","          SS                 SS          ","          SS                 SS          ","          SS                 SS          ","          SS                 SS          ","          SS                 SS          ","           SS               SS           ","           SS               SS           ","            SS             SS            ","             SS           SS             ","              SSS       SSS              ","               SSSSSSSSSSS               ","                 SSSSSSS                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                SSSSSSSSS                ","              SSS       SSS              ","             SS           SS             ","            SS             SS            ","           SS               SS           ","          SS                 SS          ","          S                   S          ","         SS                   SS         ","         S                     S         ","         S                     S         ","         S       YYYYYYY       S         ","         S       YYYYYYY       S         ","         S       YYYYYYY       S         ","         S                     S         ","         S                     S         ","         SS                   SS         ","          S                   S          ","          SS                 SS          ","           SS               SS           ","            SS             SS            ","             SS           SS             ","              SSS       SSS              ","                SSSSSSSSS                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                SSSSSSSSS                ","              SS         SS              ","             S             S             ","            S               S            ","           S                 S           ","          S                   S          ","         S                     S         ","         S                     S         ","        S                       S        ","        S                       S        ","        S                       S        ","        S     YYYYYYYYYYYYY     S        ","        S     YYYYYYYYYYYYY     S        ","        S     YYYYYYYYYYYYY     S        ","        S                       S        ","        S                       S        ","        S                       S        ","         S                     S         ","         S                     S         ","          S                   S          ","           S                 S           ","            S               S            ","             S             S             ","              SS         SS              ","                SSSSSSSSS                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","             S             S             ","           SS               SS           ","          SS                 SS          ","          S                   S          ","         S                     S         ","        S                       S        ","        S                       S        ","        S                        S       ","       S                         S       ","       S                         S       ","       S     YYYY       YYYY     S       ","       S     YYYY       YYYY     S       ","       S     YYYY       YYYY     S       ","       S                         S       ","       S                         S       ","       S                         S       ","        S                       S        ","        S                       S        ","         S                     S         ","          S                   S          ","          SS                 SS          ","           SS               SS           ","             S             S             ","              SS         SS              ","                SSSSSSSSS                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","             S             S             ","           SS               SS           ","          S                   S          ","         S                     S         ","         S                     S         ","        S                       S        ","       S                         S       ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","      S    YYYY    YYY    YYYY    S      ","      S    YYYY    YYY    YYYY    S      ","      S    YYYY    YYY    YYYY    S      ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","       S                         S       ","        S                       S        ","         S                     S         ","         S                     S         ","          S                   S          ","           SS               SS           ","             S             S             ","              SS        SSS              ","                SSSSSSSS                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","               SSSSSSSSSSS               ","             SS           SS             ","            S               S            ","          SS                 SS          ","         S                     S         ","         S                     S         ","        S                       S        ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","      S   YYY      YYY      YYY   S      ","      S   YYY      YYY      YYY   S      ","      S   YYY      YYY      YYY   S      ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","        S                       S        ","         S                     S         ","         S                     S         ","          SS                 SS          ","            S               S            ","             SS           SS             ","               SSSSSSSSSSS               ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","            SS             SS            ","           S                 S           ","          S                   S          ","         S                     S         ","        S                       S        ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","     S    YY                 YY    S     ","     S    YY                 YY    S     ","     S    YY                 YY    S     ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","        S                       S        ","         S                     S         ","          S                   S          ","           S                 S           ","            SS             SS            ","              SSS       SSS              ","                 SSSSSSS                 ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                    S                    ","               SSSSS SSSSS               ","             SS           SS             ","           SS               SS           ","          S                   S          ","         S                     S         ","        S                       S        ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","     S                             S     ","     S                             S     ","     S   YY                   YY   S     ","    S    YY                   YY    S    ","     S   YY                   YY   S     ","     S                             S     ","     S                             S     ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","        S                       S        ","         S                     S         ","          S                   S          ","           SS               SS           ","             SS           SS             ","               SSSSS SSSSS               ","                    S                    ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","            SS             SS            ","          SS                 SS          ","         S                     S         ","        S                       S        ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","     S                             S     ","    S                               S    ","    S                               S    ","    S   YYY                   YYY   S    ","    S   YYY                   YYY   S    ","    S   YYY                   YYY   S    ","    S                               S    ","    S                               S    ","     S                             S     ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","        S                       S        ","         S                     S         ","          SS                 SS          ","            SS             SS            ","              SSS       SSS              ","                 SSSSSSS                 ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                SSSSSSSSS                ","             SSS         SSS             ","           SS               SS           ","          S                   S          ","         S                     S         ","        S                       S        ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","     S                             S     ","    S                               S    ","    S                               S    ","    S                               S    ","    S   YY                     YY   S    ","    S   YY                     YY   S    ","    S   YY                     YY   S    ","    S                               S    ","    S                               S    ","    S                               S    ","     S                             S     ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","        S                       S        ","         S                     S         ","          S                   S          ","           SS               SS           ","             SSS         SSS             ","                SSSSSSSSS                ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                   SSS                   ","               SSSS   SSSS               ","             SS           SS             ","           SS               SS           ","         SS                   SS         ","        S                       S        ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","    S                               S    ","    S                               S    ","    S                               S    ","    S                               S    ","   S    YY         HHH         YY    S   ","   S    YY         HHH         YY    S   ","   S    YY         HHH         YY    S   ","    S                               S    ","    S                               S    ","    S                               S    ","    S                               S    ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","        S                       S        ","         SS                   SS         ","           SS               SS           ","             SS           SS             ","               SSSS   SSSS               ","                   SSS                   ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","            SS             SS            ","          SS                 SS          ","         S                     S         ","        S                       S        ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","    S                               S    ","    S                               S    ","    S                               S    ","   S                                 S   ","   S               HHH               S   ","   S   YY         HEEEH         YY   S   ","   S   YY         HEEEH         YY   S   ","   S   YY         HEEEH         YY   S   ","   S               HHH               S   ","   S                                 S   ","    S                               S    ","    S                               S    ","    S                               S    ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","        S                       S        ","         S                     S         ","          SS                 SS          ","            SS             SS            ","              SSS       SSS              ","                 SSSSSSS                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","            SS             SS            ","          SS                 SS          ","         S                     S         ","        S                       S        ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","    S                               S    ","    S                               S    ","    S                               S    ","   S               HHH               S   ","   S              HEEEH              S   ","   S   YY        HEEEEEH        YY   S   ","   S   YY        HEEEEEH        YY   S   ","   S   YY        HEEEEEH        YY   S   ","   S              HEEEH              S   ","   S               HHH               S   ","    S                               S    ","    S                               S    ","    S                               S    ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","        S                       S        ","         S                     S         ","          SS                 SS          ","            SS             SS            ","              SSS       SSS              ","                 SSSSSSS                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                SSSSSSSSS                ","              SS         SS              ","            SS             SS            ","          SS                 SS          ","         S                     S         ","        S                       S        ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S            YYYYY            S     ","    S           YYYYYYYYY           S    ","    S          YYY     YYY          S    ","   S          YY   HHH   YY          S   ","   S          YY  HEEEH  YY          S   ","   S         YY  HEEEEEH  YY         S   ","   S   YY    YY HEEEEEEEH YY    YY   S   ","   S   YY    YY HEEEEEEEH YY    YY   S   ","   S   YY    YY HEEEEEEEH YY    YY   S   ","   S         YY  HEEEEEH  YY         S   ","   S          YY  HEEEH  YY          S   ","   S          YY   HHH   YY          S   ","    S          YYY     YYY          S    ","    S           YYYYYYYYY           S    ","     S            YYYYY            S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","        S                       S        ","         S                     S         ","          SS                 SS          ","            SS             SS            ","              SS         SS              ","                SSSSSSSSS                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                SSSSSSSSS                ","             SSS         SSS             ","            S               S            ","          SS                 SS          ","         S                     S         ","        S                       S        ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","    S             YYYYY             S    ","    S           YYYYYYYYY           S    ","    S          YYY     YYY          S    ","   S          YY   HHH   YY          S   ","   S          YY  HEEEH  YY          S   ","   S         YY  HEEEEEH  YY         S   ","   S   YY    YY HEEEEEEEH YY    YY   S   ","   S   YY    YY HEEEEEEEH YY    YY   S   ","   S   YY    YY HEEEEEEEH YY    YY   S   ","   S         YY  HEEEEEH  YY         S   ","   S          YY  HEEEH  YY          S   ","   S          YY   HHH   YY          S   ","    S          YYY     YYY          S    ","    S           YYYYYYYYY           S    ","    S             YYYYY             S    ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","        S                       S        ","         S                     S         ","          SS                 SS          ","            S               S            ","             SSS         SSS             ","                SSSSSSSSS                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                SSSSSSSSS                ","              SS         SS              ","            SS             SS            ","          SS                 SS          ","         S                     S         ","        S                       S        ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S            YYYYY            S     ","    S           YYYYYYYYY           S    ","    S          YYY     YYY          S    ","   S          YY   HHH   YY          S   ","   S          YY  HEEEH  YY          S   ","   S         YY  HEEEEEH  YY         S   ","   S   YY    YY HEEEEEEEH YY    YY   S   ","   S   YY    YY HEEEEEEEH YY    YY   S   ","   S   YY    YY HEEEEEEEH YY    YY   S   ","   S         YY  HEEEEEH  YY         S   ","   S          YY  HEEEH  YY          S   ","   S          YY   HHH   YY          S   ","    S          YYY     YYY          S    ","    S           YYYYYYYYY           S    ","     S            YYYYY            S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","        S                       S        ","         S                     S         ","          SS                 SS          ","            SS             SS            ","              SS         SS              ","                SSSSSSSSS                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","            SS             SS            ","          SS                 SS          ","         S                     S         ","        S                       S        ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","    S                               S    ","    S                               S    ","    S                               S    ","   S               HHH               S   ","   S              HEEEH              S   ","   S   YY        HEEEEEH        YY   S   ","   S   YY        HEEEEEH        YY   S   ","   S   YY        HEEEEEH        YY   S   ","   S              HEEEH              S   ","   S               HHH               S   ","    S                               S    ","    S                               S    ","    S                               S    ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","        S                       S        ","         S                     S         ","          SS                 SS          ","            SS             SS            ","              SSS       SSS              ","                 SSSSSSS                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","            SS             SS            ","          SS                 SS          ","         S                     S         ","        S                       S        ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","    S                               S    ","    S                               S    ","    S                               S    ","   S                                 S   ","   S               HHH               S   ","   S   YY         HEEEH         YY   S   ","   S   YY         HEEEH         YY   S   ","   S   YY         HEEEH         YY   S   ","   S               HHH               S   ","   S                                 S   ","    S                               S    ","    S                               S    ","    S                               S    ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","        S                       S        ","         S                     S         ","          SS                 SS          ","            SS             SS            ","              SSS       SSS              ","                 SSSSSSS                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                   SSS                   ","               SSSS   SSSS               ","             SS           SS             ","           SS               SS           ","         SS                   SS         ","        S                       S        ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","    S                               S    ","    S                               S    ","    S                               S    ","    S                               S    ","   S    YY         HHH         YY    S   ","   S    YY         HHH         YY    S   ","   S    YY         HHH         YY    S   ","    S                               S    ","    S                               S    ","    S                               S    ","    S                               S    ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","        S                       S        ","         SS                   SS         ","           SS               SS           ","             SS           SS             ","               SSSS   SSSS               ","                   SSS                   ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                SSSSSSSSS                ","             SSS         SSS             ","           SS               SS           ","          S                   S          ","         S                     S         ","        S                       S        ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","     S                             S     ","    S                               S    ","    S                               S    ","    S                               S    ","    S   YY                     YY   S    ","    S   YY                     YY   S    ","    S   YY                     YY   S    ","    S                               S    ","    S                               S    ","    S                               S    ","     S                             S     ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","        S                       S        ","         S                     S         ","          S                   S          ","           SS               SS           ","             SSS         SSS             ","                SSSSSSSSS                ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","            SS             SS            ","          SS                 SS          ","         S                     S         ","        S                       S        ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","     S                             S     ","    S                               S    ","    S                               S    ","    S   YYY                   YYY   S    ","    S   YYY                   YYY   S    ","    S   YYY                   YYY   S    ","    S                               S    ","    S                               S    ","     S                             S     ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","        S                       S        ","         S                     S         ","          SS                 SS          ","            SS             SS            ","              SSS       SSS              ","                 SSSSSSS                 ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                    S                    ","               SSSSS SSSSS               ","             SS           SS             ","           SS               SS           ","          S                   S          ","         S                     S         ","        S                       S        ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","     S                             S     ","     S                             S     ","     S   YY                   YY   S     ","    S    YY                   YY    S    ","     S   YY                   YY   S     ","     S                             S     ","     S                             S     ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","        S                       S        ","         S                     S         ","          S                   S          ","           SS               SS           ","             SS           SS             ","               SSSSS SSSSS               ","                    S                    ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","            SS             SS            ","           S                 S           ","          S                   S          ","         S                     S         ","        S                       S        ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","     S                             S     ","     S                             S     ","     S    YY                 YY    S     ","     S    YY                 YY    S     ","     S    YY                 YY    S     ","     S                             S     ","     S                             S     ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","        S                       S        ","         S                     S         ","          S                   S          ","           S                 S           ","            SS             SS            ","              SSS       SSS              ","                 SSSSSSS                 ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","               SSSSSSSSSSS               ","             SS           SS             ","            S               S            ","          SS                 SS          ","         S                     S         ","        S                      S         ","        S                       S        ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","      S   YYY      YYY      YYY   S      ","      S   YYY      YYY      YYY   S      ","      S   YYY      YYY      YYY   S      ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","        S                       S        ","         S                     S         ","         S                     S         ","          SS                 SS          ","            S               S            ","             SS           SS             ","               SSSSSSSSSSS               ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","              SSS       SSS              ","             S             S             ","           SS               SS           ","          S                   S          ","         S                     S         ","         S                     S         ","        S                       S        ","       S                         S       ","       S                         S       ","       S                         S       ","      S            YYY            S      ","      S            YYY            S      ","      S    YYYY    YYY    YYYY    S      ","      S    YYYY    YYY    YYYY    S      ","      S    YYYY    YYY    YYYY    S      ","      S            YYY            S      ","      S            YYY            S      ","       S                         S       ","       S                         S       ","       S                         S       ","        S                       S        ","         S                     S         ","         S                     S         ","          S                   S          ","           SS               SS           ","             S             S             ","              SSS       SSS              ","                 SSSSSSS                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                SSSSSSSSS                ","              SS         SS              ","             S             S             ","           SS               SS           ","          SS                 SS          ","          S                   S          ","         S                     S         ","        S                       S        ","        S                       S        ","       S                         S       ","       S                         S       ","       S                         S       ","       S     YYYY       YYYY     S       ","       S     YYYY       YYYY     S       ","       S     YYYY       YYYY     S       ","       S                         S       ","       S                         S       ","       S                         S       ","        S                       S        ","        S                       S        ","         S                     S         ","          S                   S          ","          SS                 SS          ","           SS               SS           ","             S             S             ","              SS         SS              ","                SSSSSSSSS                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                SSSSSSSSS                ","              SS         SS              ","             S             S             ","            S               S            ","           S                 S           ","          S                   S          ","         S                     S         ","         S                     S         ","        S                       S        ","        S                       S        ","        S                       S        ","        S     YYYYYYYYYYYYY     S        ","        S     YYYYYYYYYYYYY     S        ","        S     YYYYYYYYYYYYY     S        ","        S                       S        ","        S                       S        ","        S                       S        ","         S                     S         ","         S                     S         ","          S                   S          ","           S                 S           ","            S               S            ","             S             S             ","              SS         SS              ","                SSSSSSSSS                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                SSSSSSSSS                ","              SSS       SSS              ","             SS           SS             ","            SS             SS            ","           SS               SS           ","          SS                 SS          ","          S                   S          ","         SS                   SS         ","         S                     S         ","         S                     S         ","         S       YYYYYYY       S         ","         S       YYYYYYY       S         ","         S       YYYYYYY       S         ","         S                     S         ","         S                     S         ","         SS                   SS         ","          S                   S          ","          SS                 SS          ","           SS               SS           ","            SS             SS            ","             SS           SS             ","              SSS       SSS              ","                SSSSSSSSS                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","               SSSSSSSSSSS               ","              SSS       SSS              ","             SS           SS             ","            SS             SS            ","           SS               SS           ","           SS               SS           ","          SS                 SS          ","          SS                 SS          ","          SS                 SS          ","          SS                 SS          ","          SS                 SS          ","          SS                 SS          ","          SS                 SS          ","           SS               SS           ","           SS               SS           ","            SS             SS            ","             SS           SS             ","              SSS       SSS              ","               SSSSSSSSSSS               ","                 SSSSSSS                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 SSSSSSS                 ","               SSSSS SSSSS               ","              SSS       SSS              ","             SSS         SSS             ","             SS           SS             ","            SS             SS            ","            SS             SS            ","            SS             SS            ","            S               S            ","            SS             SS            ","            SS             SS            ","            SS             SS            ","             SS           SS             ","             SSS         SSS             ","              SSS       SSS              ","               SSSSS SSSSS               ","                 SSSSSSS                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    S                    ","                 SSSSSSS                 ","                SSSSSSSSS                ","               SSSS   SSSS               ","              SSS       SSS              ","              SSS       SSS              ","              SS         SS              ","             SSS         SSS             ","              SS         SS              ","              SSS       SSS              ","              SSS       SSS              ","               SSSS   SSSS               ","                SSSSSSSSS                ","                 SSSSSSS                 ","                    S                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   SSS                   ","                 SSSSSSS                 ","                 SSSSSSS                 ","                SSSSSSSSS                ","                SSSSSSSSS                ","                SSSSSSSSS                ","                 SSSSSSS                 ","                 SSSSSSS                 ","                   SSS                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
});
    private static final String[][] STRUCTURE_PIECE_TIER4_STRUCT_AIR = transpose(new String[][]{
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   ZZZ                   ","                 ZZZZZZZ                 ","                 ZZZZZZZ                 ","                ZZZZZZZZZ                ","                ZZZZZZZZZ                ","                ZZZZZZZZZ                ","                 ZZZZZZZ                 ","                 ZZZZZZZ                 ","                   ZZZ                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    Z                    ","                 ZZZZZZZ                 ","                ZZZZZZZZZ                ","               ZZZZ   ZZZZ               ","              ZZZ       ZZZ              ","              ZZZ       ZZZ              ","              ZZ         ZZ              ","             ZZZ         ZZZ             ","              ZZ         ZZ              ","              ZZZ       ZZZ              ","              ZZZ       ZZZ              ","               ZZZZ   ZZZZ               ","                ZZZZZZZZZ                ","                 ZZZZZZZ                 ","                    Z                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","               ZZZZZ ZZZZZ               ","              ZZZ       ZZZ              ","             ZZZ         ZZZ             ","             ZZ           ZZ             ","            ZZ             ZZ            ","            ZZ             ZZ            ","            ZZ             ZZ            ","            Z               Z            ","            ZZ             ZZ            ","            ZZ             ZZ            ","            ZZ             ZZ            ","             ZZ           ZZ             ","             ZZZ         ZZZ             ","              ZZZ       ZZZ              ","               ZZZZZ ZZZZZ               ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","               ZZZZZZZZZZZ               ","              ZZZ       ZZZ              ","             ZZ           ZZ             ","            ZZ             ZZ            ","           ZZ               ZZ           ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","           ZZ               ZZ           ","            ZZ             ZZ            ","             ZZ           ZZ             ","              ZZZ       ZZZ              ","               ZZZZZZZZZZZ               ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZZ       ZZZ              ","             ZZ           ZZ             ","            ZZ             ZZ            ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          Z                   Z          ","         ZZ                   ZZ         ","         Z                     Z         ","         Z                     Z         ","         Z       ZZZZZZZ       Z         ","         Z       ZZZZZZZ       Z         ","         Z       ZZZZZZZ       Z         ","         Z                     Z         ","         Z                     Z         ","         ZZ                   ZZ         ","          Z                   Z          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","            ZZ             ZZ            ","             ZZ           ZZ             ","              ZZZ       ZZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZ         ZZ              ","             Z             Z             ","            Z               Z            ","           Z                 Z           ","          Z                   Z          ","         Z                     Z         ","         Z                     Z         ","        Z                       Z        ","        Z                       Z        ","        Z                       Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z                       Z        ","        Z                       Z        ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          Z                   Z          ","           Z                 Z           ","            Z               Z            ","             Z             Z             ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","             Z             Z             ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","        Z                       Z        ","        Z                        Z       ","       Z                         Z       ","       Z                         Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","             Z             Z             ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","             Z             Z             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             Z             Z             ","              ZZ        ZZZ              ","                ZZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","               ZZZZZZZZZZZ               ","             ZZ           ZZ             ","            Z               Z            ","          ZZ                 ZZ          ","         Z                     Z         ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          ZZ                 ZZ          ","            Z               Z            ","             ZZ           ZZ             ","               ZZZZZZZZZZZ               ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","           Z                 Z           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z    ZZ                 ZZ    Z     ","     Z    ZZ                 ZZ    Z     ","     Z    ZZ                 ZZ    Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           Z                 Z           ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                    Z                    ","               ZZZZZ ZZZZZ               ","             ZZ           ZZ             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z   ZZ                   ZZ   Z     ","    Z    ZZ                   ZZ    Z    ","     Z   ZZ                   ZZ   Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             ZZ           ZZ             ","               ZZZZZ ZZZZZ               ","                    Z                    ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","             ZZZ         ZZZ             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z   ZZ                     ZZ   Z    ","    Z   ZZ                     ZZ   Z    ","    Z   ZZ                     ZZ   Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             ZZZ         ZZZ             ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                   ZZZ                   ","               ZZZZ   ZZZZ               ","             ZZ           ZZ             ","           ZZ               ZZ           ","         ZZ                   ZZ         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z    ZZ         ZZZ         ZZ    Z   ","   Z    ZZ         ZZZ         ZZ    Z   ","   Z    ZZ         ZZZ         ZZ    Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         ZZ                   ZZ         ","           ZZ               ZZ           ","             ZZ           ZZ             ","               ZZZZ   ZZZZ               ","                   ZZZ                   ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z                                 Z   ","   Z               ZZZ               Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z               ZZZ               Z   ","   Z                                 Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z               ZZZ               Z   ","   Z              ZZZZZ              Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z              ZZZZZ              Z   ","   Z               ZZZ               Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZ         ZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z            ZZZZZ            Z     ","    Z           ZZZZZZZZZ           Z    ","    Z          ZZZ     ZZZ          Z    ","   Z          ZZ   ZZZ   ZZ          Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z          ZZ   ZZZ   ZZ          Z   ","    Z          ZZZ     ZZZ          Z    ","    Z           ZZZZZZZZZ           Z    ","     Z            ZZZZZ            Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","             ZZZ         ZZZ             ","            Z               Z            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","    Z             ZZZZZ             Z    ","    Z           ZZZZZZZZZ           Z    ","    Z          ZZZ     ZZZ          Z    ","   Z          ZZ   ZZZ   ZZ          Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZXZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z          ZZ   ZZZ   ZZ          Z   ","    Z          ZZZ     ZZZ          Z    ","    Z           ZZZZZZZZZ           Z    ","    Z             ZZZZZ             Z    ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            Z               Z            ","             ZZZ         ZZZ             ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZ         ZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z            ZZZZZ            Z     ","    Z           ZZZZZZZZZ           Z    ","    Z          ZZZ     ZZZ          Z    ","   Z          ZZ   ZZZ   ZZ          Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z   ZZ    ZZ ZZZZZZZZZ ZZ    ZZ   Z   ","   Z         ZZ  ZZZZZZZ  ZZ         Z   ","   Z          ZZ  ZZZZZ  ZZ          Z   ","   Z          ZZ   ZZZ   ZZ          Z   ","    Z          ZZZ     ZZZ          Z    ","    Z           ZZZZZZZZZ           Z    ","     Z            ZZZZZ            Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z               ZZZ               Z   ","   Z              ZZZZZ              Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z   ZZ        ZZZZZZZ        ZZ   Z   ","   Z              ZZZZZ              Z   ","   Z               ZZZ               Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z                                 Z   ","   Z               ZZZ               Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z   ZZ         ZZZZZ         ZZ   Z   ","   Z               ZZZ               Z   ","   Z                                 Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                   ZZZ                   ","               ZZZZ   ZZZZ               ","             ZZ           ZZ             ","           ZZ               ZZ           ","         ZZ                   ZZ         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","   Z    ZZ         ZZZ         ZZ    Z   ","   Z    ZZ         ZZZ         ZZ    Z   ","   Z    ZZ         ZZZ         ZZ    Z   ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         ZZ                   ZZ         ","           ZZ               ZZ           ","             ZZ           ZZ             ","               ZZZZ   ZZZZ               ","                   ZZZ                   ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","             ZZZ         ZZZ             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","    Z   ZZ                     ZZ   Z    ","    Z   ZZ                     ZZ   Z    ","    Z   ZZ                     ZZ   Z    ","    Z                               Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             ZZZ         ZZZ             ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","    Z                               Z    ","    Z                               Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z   ZZZ                   ZZZ   Z    ","    Z                               Z    ","    Z                               Z    ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          ZZ                 ZZ          ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                    Z                    ","               ZZZZZ ZZZZZ               ","             ZZ           ZZ             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z   ZZ                   ZZ   Z     ","    Z    ZZ                   ZZ    Z    ","     Z   ZZ                   ZZ   Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             ZZ           ZZ             ","               ZZZZZ ZZZZZ               ","                    Z                    ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","            ZZ             ZZ            ","           Z                 Z           ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","     Z                             Z     ","     Z                             Z     ","     Z    ZZ                 ZZ    Z     ","     Z    ZZ                 ZZ    Z     ","     Z    ZZ                 ZZ    Z     ","     Z                             Z     ","     Z                             Z     ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","           Z                 Z           ","            ZZ             ZZ            ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","               ZZZZZZZZZZZ               ","             ZZ           ZZ             ","            Z               Z            ","          ZZ                 ZZ          ","         Z                     Z         ","        Z                      Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z   ZZZ      ZZZ      ZZZ   Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          ZZ                 ZZ          ","            Z               Z            ","             ZZ           ZZ             ","               ZZZZZZZZZZZ               ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","              ZZZ       ZZZ              ","             Z             Z             ","           ZZ               ZZ           ","          Z                   Z          ","         Z                     Z         ","         Z                     Z         ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z    ZZZZ    ZZZ    ZZZZ    Z      ","      Z            ZZZ            Z      ","      Z            ZZZ            Z      ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          Z                   Z          ","           ZZ               ZZ           ","             Z             Z             ","              ZZZ       ZZZ              ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZ         ZZ              ","             Z             Z             ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          Z                   Z          ","         Z                     Z         ","        Z                       Z        ","        Z                       Z        ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z     ZZZZ       ZZZZ     Z       ","       Z                         Z       ","       Z                         Z       ","       Z                         Z       ","        Z                       Z        ","        Z                       Z        ","         Z                     Z         ","          Z                   Z          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","             Z             Z             ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZ         ZZ              ","             Z             Z             ","            Z               Z            ","           Z                 Z           ","          Z                   Z          ","         Z                     Z         ","         Z                     Z         ","        Z                       Z        ","        Z                       Z        ","        Z                       Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z     ZZZZZZZZZZZZZ     Z        ","        Z                       Z        ","        Z                       Z        ","        Z                       Z        ","         Z                     Z         ","         Z                     Z         ","          Z                   Z          ","           Z                 Z           ","            Z               Z            ","             Z             Z             ","              ZZ         ZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                ZZZZZZZZZ                ","              ZZZ       ZZZ              ","             ZZ           ZZ             ","            ZZ             ZZ            ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          Z                   Z          ","         ZZ                   ZZ         ","         Z                     Z         ","         Z                     Z         ","         Z       ZZZZZZZ       Z         ","         Z       ZZZZZZZ       Z         ","         Z       ZZZZZZZ       Z         ","         Z                     Z         ","         Z                     Z         ","         ZZ                   ZZ         ","          Z                   Z          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","            ZZ             ZZ            ","             ZZ           ZZ             ","              ZZZ       ZZZ              ","                ZZZZZZZZZ                ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","               ZZZZZZZZZZZ               ","              ZZZ       ZZZ              ","             ZZ           ZZ             ","            ZZ             ZZ            ","           ZZ               ZZ           ","           ZZ               ZZ           ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","          ZZ                 ZZ          ","           ZZ               ZZ           ","           ZZ               ZZ           ","            ZZ             ZZ            ","             ZZ           ZZ             ","              ZZZ       ZZZ              ","               ZZZZZZZZZZZ               ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                 ZZZZZZZ                 ","               ZZZZZ ZZZZZ               ","              ZZZ       ZZZ              ","             ZZZ         ZZZ             ","             ZZ           ZZ             ","            ZZ             ZZ            ","            ZZ             ZZ            ","            ZZ             ZZ            ","            Z               Z            ","            ZZ             ZZ            ","            ZZ             ZZ            ","            ZZ             ZZ            ","             ZZ           ZZ             ","             ZZZ         ZZZ             ","              ZZZ       ZZZ              ","               ZZZZZ ZZZZZ               ","                 ZZZZZZZ                 ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                    Z                    ","                 ZZZZZZZ                 ","                ZZZZZZZZZ                ","               ZZZZ   ZZZZ               ","              ZZZ       ZZZ              ","              ZZZ       ZZZ              ","              ZZ         ZZ              ","             ZZZ         ZZZ             ","              ZZ         ZZ              ","              ZZZ       ZZZ              ","              ZZZ       ZZZ              ","               ZZZZ   ZZZZ               ","                ZZZZZZZZZ                ","                 ZZZZZZZ                 ","                    Z                    ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                   ZZZ                   ","                 ZZZZZZZ                 ","                 ZZZZZZZ                 ","                ZZZZZZZZZ                ","                ZZZZZZZZZ                ","                ZZZZZZZZZ                ","                 ZZZZZZZ                 ","                 ZZZZZZZ                 ","                   ZZZ                   ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "},
    {"                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         ","                                         "}
});
    private static final IStructureDefinition<MTENanoForge> STRUCTURE_DEFINITION = StructureDefinition
        .<MTENanoForge>builder()
                    .addShape(STRUCTURE_PIECE_MAIN, transpose(new String[][] {
                        {"         ","         ","    F    ","    C    ","    C    ","    C    ","    C    ","    F    ","         ","         "},
                        {"         ","         ","    F    ","    C    ","    C    ","    C    ","    C    ","    F    ","         ","         "},
                        {"         ","         ","    F    ","    C    ","    C    ","    C    ","    C    ","    F    ","         ","         "},
                        {"         ","         ","    F    ","    C    ","    C    ","    C    ","    C    ","    F    ","         ","         "},
                        {"         ","         ","    F    ","    C    ","    C    ","    C    ","    C    ","    F    ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","   FCF   ","  FC CF  ","   C C   ","   C C   ","   C C   ","   C C   ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","   C C   ","   C C   ","   C C   ","   C C   ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  FC CF  ","   FCF   ","         "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  "," CC   CC "," CC   CC "," CC   CC "," CC   CC ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  "," CC   CC "," CC   CC "," CC   CC "," CC   CC ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"    C    ","   FCF   ","  CC CC  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  CC CC  ","   FCF   ","    C    "},
                        {"         ","   FCF   ","  FC CF  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","  C   C  ","  C   C  ","  C   C  ","  C   C  ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","   C C   ","   C C   ","   C C   ","   C C   ","  FC CF  ","   FCF   ","         "},
                        {"         ","   FCF   ","  FC CF  ","   C C   ","   C C   ","   C C   ","   C C   ","  FC CF  ","   FCF   ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","         ","   FCF   ","   C C   ","   C C   ","   C C   ","   C C   ","   FCF   ","         ","         "},
                        {"         ","  BB~BB  "," BBBBBBB ","BBBBBBBBB","BBBBBBBBB","BBBBBBBBB","BBBBBBBBB"," BBBBBBB ","  BBBBB  ","         "}
                    }))
                    .addShape(STRUCTURE_PIECE_TIER2, transpose(new String[][] {
                        {"        ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "        "},
                        {"        ", "        ", "   AA   ", "  ACCA  ", "  ACCA  ", "   AA   ", "        ", "        "},
                        {"        ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "        "},
                        {"        ", "        ", "   AA   ", "  ACCA  ", "  ACCA  ", "   AA   ", "        ", "        "},
                        {"        ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {"        ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "        "},
                        {" CCCCCC ", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", " CCCCCC "}
                    }))
                    .addShape(STRUCTURE_PIECE_TIER3, transpose(new String[][] {
                        {"        ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "        "},
                        {"        ", "        ", " FFAA   ", "  ACCA  ", "  ACCA  ", "   AAFF ", "        ", "        "},
                        {"        ", "        ", "F  CC   ", "F CCCC  ", "  CCCC F", "   CC  F", "        ", "        "},
                        {"        ", "        ", "       F", "   CC  F", "F  CC   ", "F       ", "        ", "        "},
                        {"        ", "      F ", "        ", "   CC   ", "   CC   ", "        ", " F      ", "        "},
                        {"    FF  ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "  FF    "},
                        {"  FF    ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "    FF  "},
                        {"        ", " F      ", "        ", "   CC   ", "   CC   ", "        ", "      F ", "        "},
                        {"        ", "        ", "F       ", "F  CC   ", "   CC  F", "       F", "        ", "        "},
                        {"        ", "        ", "   CC  F", "  CCCC F", "F CCCC  ", "F  CC   ", "        ", "        "},
                        {"        ", "      F ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", " F      ", "        "},
                        {"    FF  ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "  FF    "},
                        {"  FF    ", "        ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", "        ", "    FF  "},
                        {"        ", " F      ", "        ", "   CC   ", "   CC   ", "        ", "      F ", "        "},
                        {"        ", "        ", "F       ", "F  CC   ", "   CC  F", "       F", "        ", "        "},
                        {"        ", "        ", "       F", "   CC  F", "F  CC   ", "F       ", "        ", "        "},
                        {"        ", "      F ", "        ", "   CC   ", "   CC   ", "        ", " F      ", "        "},
                        {"    FF  ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "  FF    "},
                        {"  FF    ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "    FF  "},
                        {"        ", " F      ", "        ", "   CC   ", "   CC   ", "        ", "      F ", "        "},
                        {"        ", "        ", "F  CC   ", "F CCCC  ", "  CCCC F", "   CC  F", "        ", "        "},
                        {"        ", "        ", "   AA  F", "  ACCA F", "F ACCA  ", "F  AA   ", "        ", "        "},
                        {"        ", "      F ", "   CC   ", "  CCCC  ", "  CCCC  ", "   CC   ", " F      ", "        "},
                        {"    FF  ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "  FF    "},
                        {"  FF    ", "        ", "        ", "   CC   ", "   CC   ", "        ", "        ", "    FF  "},
                        {"        ", " F      ", "        ", "   CC   ", "   CC   ", "        ", "      F ", "        "},
                        {" CCCCCC ", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", "CCCCCCCC", " CCCCCC "}
                    }))
                    .addShape(STRUCTURE_PIECE_TIER4_BASE, STRUCTURE_PIECE_TIER4_BASE_STRUCT)
                    .addShape(STRUCTURE_PIECE_TIER4_RENDER, STRUCTURE_PIECE_TIER4_STRUCT)
                    .addShape(STRUCTURE_PIECE_TIER4_AIR_RENDER, STRUCTURE_PIECE_TIER4_STRUCT_AIR)
                    //spotless:on
        .addElement('F', ofFrame(Materials.StellarAlloy))
        .addElement('C', ofBlock(GregTechAPI.sBlockCasings8, 10))
        .addElement('A', ofBlock(GregTechAPI.sBlockCasings2, 5))
        .addElement(
            'B',
            buildHatchAdder(MTENanoForge.class)
                .atLeast(InputHatch, OutputBus, InputBus, Maintenance, Energy.or(ExoticEnergy))
                .dot(1)
                .casingIndex(((BlockCasings8) GregTechAPI.sBlockCasings8).getTextureIndex(10))
                .buildAndChain(GregTechAPI.sBlockCasings8, 10))
        .addElement('Y', ofBlock(GregTechAPI.sBlockCasings8, 7))
        .addElement('E', lazy(t -> ofBlock(ModBlocks.blockCasingsMisc, 8)))
        .addElement(
            'N',
            buildHatchAdder(MTENanoForge.class)
                .atLeast(InputHatch, OutputBus, InputBus, Maintenance, Energy.or(ExoticEnergy))
                .dot(1)
                .casingIndex(((BlockCasings8) GregTechAPI.sBlockCasings8).getTextureIndex(10))
                .buildAndChain(GregTechAPI.sBlockCasings8, 10))
        .addElement('H', ofBlock(GregTechAPI.sBlockCasings8, 7)) // TODO: CHANGE
        .addElement('S', lazy(t -> ofBlock(BlockQuantumGlass.INSTANCE, 0)))
        .addElement('J', ofBlock(GregTechAPI.sBlockCasings8, 7))
        .addElement('X', ofBlock(GregTechAPI.nanoForgeRender, 0))
        .addElement('Z', ofBlock(Blocks.air, 0))
        .build();
    private byte mSpecialTier = 0;
    private boolean renderActive = false;
    private boolean renderDisabled = false;

    public MTENanoForge(int aID, String aName, String aNameRegional) {
        super(aID, aName, aNameRegional);
    }

    public MTENanoForge(String aName) {
        super(aName);
    }

    @Override
    public RecipeMap<?> getRecipeMap() {
        return RecipeMaps.nanoForgeRecipes;
    }

    @Override
    public void construct(ItemStack stackSize, boolean hintsOnly) {
        if (stackSize.stackSize < 4) {
            buildPiece(STRUCTURE_PIECE_MAIN, stackSize, hintsOnly, 4, 37, 1);
            if (stackSize.stackSize > 1) {
                buildPiece(STRUCTURE_PIECE_TIER2, stackSize, hintsOnly, -7, 14, 4);
            }
            if (stackSize.stackSize > 2) {
                buildPiece(STRUCTURE_PIECE_TIER3, stackSize, hintsOnly, 14, 26, 4);
            }
        } else {
            buildPiece(STRUCTURE_PIECE_TIER4_BASE, stackSize, hintsOnly, 20, 12, 0);
            buildPiece(STRUCTURE_PIECE_TIER4_RENDER, stackSize, hintsOnly, 20, 49, 0);
        }
    }

    @Override
    public IMetaTileEntity newMetaEntity(IGregTechTileEntity aTileEntity) {
        return new MTENanoForge(this.mName);
    }

    @Override
    public ITexture[] getTexture(IGregTechTileEntity baseMetaTileEntity, ForgeDirection sideDirection,
        ForgeDirection facingDirection, int colorIndex, boolean active, boolean redstoneLevel) {
        if (sideDirection == facingDirection) {
            if (active) return new ITexture[] {
                BlockIcons.getCasingTextureForId(GTUtility.getCasingTextureIndex(GregTechAPI.sBlockCasings8, 10)),
                TextureFactory.builder()
                    .addIcon(OVERLAY_FRONT_ASSEMBLY_LINE_ACTIVE)
                    .extFacing()
                    .build(),
                TextureFactory.builder()
                    .addIcon(OVERLAY_FRONT_ASSEMBLY_LINE_ACTIVE_GLOW)
                    .extFacing()
                    .glow()
                    .build() };
            return new ITexture[] {
                BlockIcons.getCasingTextureForId(GTUtility.getCasingTextureIndex(GregTechAPI.sBlockCasings8, 10)),
                TextureFactory.builder()
                    .addIcon(OVERLAY_FRONT_ASSEMBLY_LINE)
                    .extFacing()
                    .build(),
                TextureFactory.builder()
                    .addIcon(OVERLAY_FRONT_ASSEMBLY_LINE_GLOW)
                    .extFacing()
                    .glow()
                    .build() };
        }
        return new ITexture[] {
            BlockIcons.getCasingTextureForId(GTUtility.getCasingTextureIndex(GregTechAPI.sBlockCasings8, 10)) };
    }

    @Override
    public IStructureDefinition<MTENanoForge> getStructureDefinition() {
        return STRUCTURE_DEFINITION;
    }

    @Override
    public boolean isCorrectMachinePart(ItemStack aStack) {
        return true;
    }

    int drainedMagmatter = 0;

    @Override
    protected ProcessingLogic createProcessingLogic() {
        return new ProcessingLogic() {

            @Override
            protected @Nonnull CheckRecipeResult validateRecipe(@Nonnull GTRecipe recipe) {
                if (mSpecialTier == 4) {
                    boolean foundNanite = false;
                    ItemStack inputNanite = recipe.mOutputs[0];
                    int busWithNaniteIndex = 0;
                    int slotWithNaniteIndex = 0;

                    for (int i = 0; i < mInputBusses.size(); i++) {
                        if (foundNanite) {
                            break;
                        }
                        MTEHatchInputBus inputBus = mInputBusses.get(i);
                        ItemStack[] busInventory = inputBus.getRealInventory();
                        for (int j = 0; j < busInventory.length; j++) {
                            ItemStack inputItem = null;
                            if (inputBus instanceof MTEHatchInputBusME meBus) {
                                if (j == 18) {
                                    break;
                                }
                                inputItem = meBus.getRealInventory()[j + 16];
                            } else {
                                inputItem = inputBus.getStackInSlot(j);
                            }
                            if (inputItem != null && inputItem.isItemEqual(inputNanite)) {
                                busWithNaniteIndex = i;
                                slotWithNaniteIndex = j;
                                foundNanite = true;
                                break;
                            }
                        }
                    }

                    if (foundNanite) {
                        for (MTEHatchInput hatch : filterValidMTEs(mInputHatches)) {
                            FluidStack drained = hatch.drain(
                                ForgeDirection.UNKNOWN,
                                MaterialsUEVplus.MagMatter.getMolten(Integer.MAX_VALUE),
                                true);
                            if (drained == null) {
                                continue;
                            }
                            drainedMagmatter = drained.amount;
                            mInputBusses.get(busWithNaniteIndex)
                                .decrStackSize(slotWithNaniteIndex, 1);
                        }
                    }
                } else {
                    drainedMagmatter = 0;
                }
                maxParallel = Math.max((int) (drainedMagmatter / (144 / Math.pow(2, 4 - mSpecialTier))), 1);
                return recipe.mSpecialValue <= mSpecialTier ? CheckRecipeResultRegistry.SUCCESSFUL
                    : CheckRecipeResultRegistry.NO_RECIPE;
            }

            @NotNull
            @Override
            protected ParallelHelper createParallelHelper(@Nonnull GTRecipe recipe) {
                return super.createParallelHelper(recipe);
            }

            @Nonnull
            @Override
            protected OverclockCalculator createOverclockCalculator(@Nonnull GTRecipe recipe) {
                return super.createOverclockCalculator(recipe)
                    .setDurationDecreasePerOC(mSpecialTier > recipe.mSpecialValue ? 4.0 : 2.0)
                    .setDurationModifier(Math.pow(0.9999, maxParallel));
            }
        };
    }

    @Override
    protected void setProcessingLogicPower(ProcessingLogic logic) {
        logic.setAvailableVoltage(getMaxInputEu());
        logic.setAvailableAmperage(1);
        logic.setAmperageOC(false);
    }

    private int timer = 0;

    @Override
    public void onPostTick(IGregTechTileEntity aBaseMetaTileEntity, long aTick) {
        super.onPostTick(aBaseMetaTileEntity, aTick);
        if (aBaseMetaTileEntity.isServerSide()) {
            // TODO: Look for proper fix
            // Updates every 10 sec
            if (mUpdate <= -150) mUpdate = 50;
            if (renderActive && !renderDisabled) {
                TileEntityNanoForgeRenderer tile = getRenderer();
                if (tile != null) {
                    // Manually calculating deltaT for server - annoying minecraft
                    long systemTime = System.currentTimeMillis();
                    long diff = systemTime - tile.getLastSystemTime();
                    tile.setLastSystemTime(systemTime);
                    float deltaT = diff / 1000.0f;
                    // Making sure the first frame doesn't freak out
                    if (deltaT > 1) {
                        deltaT = 0;
                    }
                    timer++;
                    if (mMaxProgresstime > 0) {
                        tile.setRunning(true);
                        tile.setTimer(tile.getTimer() + deltaT);
                        if (timer >= 10) {
                            tile.setTimerServer(tile.getTimer());
                            timer = 0;
                        }
                    } else {
                        tile.setRunning(false);
                        tile.setTimer(tile.getTimer() - deltaT);
                        if (tile.getTimer() < 0) {
                            tile.setTimer(0);
                        }
                        if (timer >= 10) {
                            tile.setTimerServer(tile.getTimer());
                            timer = 0;
                        }
                    }
                }
            }
        }
    }

    @Override
    public boolean checkMachine(IGregTechTileEntity aBaseMetaTileEntity, ItemStack aStack) {
        mSpecialTier = 0;
        if (checkPiece(STRUCTURE_PIECE_MAIN, 4, 37, 1) && aStack != null) {
            if (aStack.isItemEqual(Materials.Carbon.getNanite(1))) {
                mSpecialTier = 1;
            }

            if (aStack.isItemEqual(Materials.Neutronium.getNanite(1)) && checkPiece(STRUCTURE_PIECE_TIER2, -7, 14, 4)) {
                mSpecialTier = 2;
            }

            if (aStack.isItemEqual(MaterialsUEVplus.TranscendentMetal.getNanite(1))
                && checkPiece(STRUCTURE_PIECE_TIER2, -7, 14, 4)
                && checkPiece(STRUCTURE_PIECE_TIER3, 14, 26, 4)) {
                mSpecialTier = 3;
            }
        } else if (aStack != null && aStack.isItemEqual(MaterialsUEVplus.Eternity.getNanite(1))) {
            if (checkPiece(STRUCTURE_PIECE_TIER4_BASE, 20, 12, 0)
                && (checkPiece(STRUCTURE_PIECE_TIER4_RENDER, 20, 49, 0)
                    || checkPiece(STRUCTURE_PIECE_TIER4_AIR_RENDER, 20, 49, 0))) {
                mSpecialTier = 4;
            }
        }

        if (mMaintenanceHatches.size() != 1) {
            return false;
        }

        if (!checkExoticAndNormalEnergyHatches()) {
            return false;
        }

        if (!renderActive && mSpecialTier >= 4 && !renderDisabled) {
            destroyRenderStruct();
            renderActive = true;
        }

        return mSpecialTier > 0;
    }

    @Override
    public int getMaxEfficiency(ItemStack aStack) {
        return 10000;
    }

    @Override
    public int getDamageToComponent(ItemStack aStack) {
        return 0;
    }

    @Override
    public boolean explodesOnComponentBreak(ItemStack aStack) {
        return false;
    }

    @Override
    public int survivalConstruct(ItemStack stackSize, int elementBudget, ISurvivalBuildEnvironment env) {
        if (mMachine) return -1;
        int built = 0;
        if (stackSize.stackSize <= 2) {
            built += survivialBuildPiece(STRUCTURE_PIECE_MAIN, stackSize, 4, 37, 1, elementBudget, env, false, true);
            if (built >= 0) return built;
            if (stackSize.stackSize > 1) {
                built += survivialBuildPiece(
                    STRUCTURE_PIECE_TIER2,
                    stackSize,
                    -7,
                    14,
                    4,
                    elementBudget,
                    env,
                    false,
                    true);
            }
            if (stackSize.stackSize > 2) {
                built += survivialBuildPiece(
                    STRUCTURE_PIECE_TIER3,
                    stackSize,
                    14,
                    26,
                    4,
                    elementBudget,
                    env,
                    false,
                    true);
            }
        } else {
            built += survivialBuildPiece(
                STRUCTURE_PIECE_TIER4_BASE,
                stackSize,
                20,
                12,
                0,
                elementBudget,
                env,
                false,
                true);
            if (built >= 0) return built;
            built += survivialBuildPiece(
                STRUCTURE_PIECE_TIER4_RENDER,
                stackSize,
                20,
                49,
                0,
                elementBudget,
                env,
                false,
                true);
        }
        return built;
    }

    @Override
    public void saveNBTData(NBTTagCompound aNBT) {
        super.saveNBTData(aNBT);
        aNBT.setByte("mSpecialTier", mSpecialTier);
        aNBT.setBoolean("renderActive", renderActive);
        aNBT.setBoolean("renderDisabled", renderDisabled);
    }

    @Override
    public void loadNBTData(final NBTTagCompound aNBT) {
        super.loadNBTData(aNBT);
        if (aNBT.hasKey("mSeparate")) {
            // backward compatibility
            inputSeparation = aNBT.getBoolean("mSeparate");
        }
        mSpecialTier = aNBT.getByte("mSpecialTier");
        renderActive = aNBT.getBoolean("renderActive");
        renderDisabled = aNBT.getBoolean("renderDisabled");
    }

    @Override
    protected void drawTexts(DynamicPositionedColumn screenElements, SlotWidget inventorySlot) {
        super.drawTexts(screenElements, inventorySlot);
        screenElements
            .widget(
                new TextWidget(StatCollector.translateToLocal("GT5U.gui.button.tier") + " " + mSpecialTier)
                    .setTextAlignment(Alignment.CenterLeft)
                    .setDefaultColor(COLOR_TEXT_WHITE.get())
                    .setEnabled(widget -> getErrorDisplayID() == 0))
            .widget(
                new FakeSyncWidget.IntegerSyncer(
                    () -> (int) mSpecialTier,
                    val -> mSpecialTier = (byte) (val % Byte.MAX_VALUE)));
    }

    @Override
    protected MultiblockTooltipBuilder createTooltip() {
        MultiblockTooltipBuilder tt = new MultiblockTooltipBuilder();
        tt.addMachineType("Nanite Fabricator")
            .addInfo("Requires insane amounts of power to create nanites. Each tier")
            .addInfo("the multi gains a new building next to it. The nanite in the")
            .addInfo("controller slot controls the tier.")
            .addSeparator()
            .addInfo("Requires a Carbon Nanite to use tier " + EnumChatFormatting.DARK_PURPLE + 1)
            .addInfo("Requires a Neutronium Nanite to use tier " + EnumChatFormatting.DARK_PURPLE + 2)
            .addInfo("Requires a Transcendent Metal Nanite to use tier " + EnumChatFormatting.DARK_PURPLE + 3)
            .addInfo("Requires a Eternity Nanite to use tier " + EnumChatFormatting.DARK_PURPLE + 4)
            .addSeparator()
            .addInfo("If a recipe's tier is lower than the tier of the Nano Forge")
            .addInfo("it gains " + EnumChatFormatting.RED + "perfect overclock" + EnumChatFormatting.GRAY + ".")
            .addTecTechHatchInfo()
            .beginStructureBlock(30, 38, 13, false)
            .addStructureInfo("Tier " + EnumChatFormatting.DARK_PURPLE + 1 + EnumChatFormatting.GRAY)
            .addStructureInfo(
                EnumChatFormatting.GOLD + "527" + EnumChatFormatting.GRAY + " Radiant Naquadah Alloy Casing")
            .addStructureInfo(EnumChatFormatting.GOLD + "171" + EnumChatFormatting.GRAY + " Stellar Alloy Frame Box")
            .addStructureInfo("")
            .addStructureInfo("Tier " + EnumChatFormatting.DARK_PURPLE + 2 + EnumChatFormatting.GRAY)
            .addStructureInfo(
                EnumChatFormatting.GOLD + "148" + EnumChatFormatting.GRAY + " Radiant Naquadah Alloy Casing")
            .addStructureInfo(EnumChatFormatting.GOLD + "16" + EnumChatFormatting.GRAY + " Assembly Line Casing")
            .addStructureInfo("")
            .addStructureInfo("Tier " + EnumChatFormatting.DARK_PURPLE + 3 + EnumChatFormatting.GRAY)
            .addStructureInfo(
                EnumChatFormatting.GOLD + "228" + EnumChatFormatting.GRAY + " Radiant Naquadah Alloy Casing")
            .addStructureInfo(EnumChatFormatting.GOLD + "84" + EnumChatFormatting.GRAY + " Stellar Alloy Frame Box")
            .addStructureInfo(EnumChatFormatting.GOLD + "16" + EnumChatFormatting.GRAY + " Assembly Line Casing")
            .addStructureInfo("")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD
                    + "1"
                    + EnumChatFormatting.GRAY
                    + "-"
                    + EnumChatFormatting.GOLD
                    + "2"
                    + EnumChatFormatting.GRAY
                    + " energy hatches or "
                    + EnumChatFormatting.GOLD
                    + "1"
                    + EnumChatFormatting.GRAY
                    + " TT energy hatch.")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD + "1" + EnumChatFormatting.GRAY + " maintenance hatch.")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD
                    + 1
                    + EnumChatFormatting.GRAY
                    + "+"
                    + EnumChatFormatting.GRAY
                    + " input hatches.")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD
                    + 0
                    + EnumChatFormatting.GRAY
                    + "+"
                    + EnumChatFormatting.GRAY
                    + " output hatches.")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD
                    + 1
                    + EnumChatFormatting.GRAY
                    + "+"
                    + EnumChatFormatting.GRAY
                    + " input buses.")
            .addStructureInfo(
                "Requires " + EnumChatFormatting.GOLD
                    + 1
                    + EnumChatFormatting.GRAY
                    + "+"
                    + EnumChatFormatting.GRAY
                    + " output buses.")
            .toolTipFinisher(AuthorBlueWeabo);
        return tt;
    }

    @Override
    public final void onScrewdriverRightClick(ForgeDirection side, EntityPlayer aPlayer, float aX, float aY, float aZ) {
        inputSeparation = !inputSeparation;
        GTUtility.sendChatToPlayer(
            aPlayer,
            StatCollector.translateToLocal("GT5U.machines.separatebus") + " " + inputSeparation);
    }

    @Override
    public boolean onWireCutterRightClick(ForgeDirection side, ForgeDirection wrenchingSide, EntityPlayer aPlayer,
        float aX, float aY, float aZ) {
        batchMode = !batchMode;
        if (batchMode) {
            GTUtility.sendChatToPlayer(aPlayer, StatCollector.translateToLocal("misc.BatchModeTextOn"));
        } else {
            GTUtility.sendChatToPlayer(aPlayer, StatCollector.translateToLocal("misc.BatchModeTextOff"));
        }
        return true;
    }

    @Override
    public boolean supportsVoidProtection() {
        return true;
    }

    @Override
    public boolean supportsInputSeparation() {
        return true;
    }

    @Override
    public boolean supportsBatchMode() {
        return true;
    }

    private TileEntityNanoForgeRenderer getRenderer() {
        ChunkCoordinates renderPos = getRenderPos();
        TileEntity tile = this.getBaseMetaTileEntity()
            .getWorld()
            .getTileEntity(renderPos.posX, renderPos.posY, renderPos.posZ);

        if (tile instanceof TileEntityNanoForgeRenderer nanoForgeTile) {
            return nanoForgeTile;
        }
        return null;
    }

    private ChunkCoordinates getRenderPos() {
        IGregTechTileEntity gregTechTileEntity = this.getBaseMetaTileEntity();
        int x = gregTechTileEntity.getXCoord();
        int y = gregTechTileEntity.getYCoord();
        int z = gregTechTileEntity.getZCoord();
        double xOffset = 20 * getExtendedFacing().getRelativeBackInWorld().offsetX
            + 32 * getExtendedFacing().getRelativeUpInWorld().offsetX;
        double yOffset = 20 * getExtendedFacing().getRelativeBackInWorld().offsetY
            + 32 * getExtendedFacing().getRelativeUpInWorld().offsetY;
        double zOffset = 20 * getExtendedFacing().getRelativeBackInWorld().offsetZ
            + 32 * getExtendedFacing().getRelativeUpInWorld().offsetZ;
        return new ChunkCoordinates((int) (x + xOffset), (int) (y + yOffset), (int) (z + zOffset));
    }

    private void destroyRenderStruct() {
        buildPiece(STRUCTURE_PIECE_TIER4_AIR_RENDER, null, false, 20, 49, 0);
    }

    private void buildRenderStruct() {
        buildPiece(STRUCTURE_PIECE_TIER4_RENDER, null, false, 20, 49, 0);
    }
}
